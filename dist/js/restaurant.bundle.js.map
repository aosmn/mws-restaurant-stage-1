{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/dbhelper.js","webpack:///./js/restaurant_info.js"],"names":["DBHelper","callback","xhr","XMLHttpRequest","open","DATABASE_URL","onload","status","json","JSON","parse","responseText","restaurants","error","send","id","fetchRestaurants","restaurant","find","r","cuisine","results","filter","cuisine_type","neighborhood","neighborhoods","map","v","i","uniqueNeighborhoods","indexOf","cuisines","uniqueCuisines","photograph","replace","marker","L","latlng","lat","lng","title","name","alt","url","urlForRestaurant","addTo","newMap","port","document","addEventListener","initMap","fetchRestaurantFromURL","console","self","center","zoom","scrollWheelZoom","tileLayer","mapboxToken","maxZoom","attribution","fillBreadcrumb","mapMarkerForRestaurant","getParameterByName","fetchRestaurantById","fillRestaurantHTML","getElementById","innerHTML","address","srcLarge","setAttribute","imageUrlForRestaurant","srcMed","image","className","src","operating_hours","fillRestaurantHoursHTML","fillReviewsHTML","operatingHours","hours","key","row","createElement","day","appendChild","time","operatingHoursArr","split","length","hourRow","hourCell","append","reviews","container","noReviews","ul","forEach","review","createReviewHTML","li","date","rating","comments","breadcrumb","window","location","href","regex","RegExp","exec","decodeURIComponent","serviceWorker","registerServiceWorker","navigator","register","then","reg","controller","waiting","updateReady","installing","trackInstalling","refreshing","reload","worker","state","toast","refresh","dismiss","onclick","postMessage","action"],"mappings":"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","file":"restaurant.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./js/restaurant_info.js\");\n","/**\n * Common database helper functions.\n */\n/*eslint no-unused-vars: \"error\"*/\n\nclass DBHelper {\n\n\t/**\n   * Database URL.\n   * Change this to restaurants.json file location on your server.\n   */\n\tstatic get DATABASE_URL() {\n\n\t\tconst port = 3000; // Change this to your server port\n\t\treturn `http://localhost:${port}/data/restaurants.json`;\n\t}\n\n\t/**\n   * Fetch all restaurants.\n   */\n\tstatic fetchRestaurants(callback) {\n\t\tconst xhr = new XMLHttpRequest();\n\t\txhr.open('GET', DBHelper.DATABASE_URL);\n\t\txhr.onload = () => {\n\t\t\tif (xhr.status === 200) { // Got a success response from server!\n\t\t\t\tconst json = JSON.parse(xhr.responseText);\n\t\t\t\tconst restaurants = json.restaurants;\n\t\t\t\tcallback(null, restaurants);\n\t\t\t} else { // Oops!. Got an error from server.\n\t\t\t\tconst error =\n\t\t\t\t(`Request failed. Returned status of ${xhr.status}`);\n\n\t\t\t\tcallback(error, null);\n\t\t\t}\n\t\t};\n\t\txhr.send();\n\t}\n\n\t/**\n   * Fetch a restaurant by its ID.\n   */\n\tstatic fetchRestaurantById(id, callback) {\n\t\t// fetch all restaurants with proper error handling.\n\t\tDBHelper.fetchRestaurants((error, restaurants) => {\n\t\t\tif (error) {\n\t\t\t\tcallback(error, null);\n\t\t\t} else {\n\t\t\t\tconst restaurant = restaurants.find(r => r.id == id);\n\t\t\t\tif (restaurant) { // Got the restaurant\n\t\t\t\t\tcallback(null, restaurant);\n\t\t\t\t} else { // Restaurant does not exist in the database\n\t\t\t\t\tcallback('Restaurant does not exist', null);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n   * Fetch restaurants by a cuisine type with proper error handling.\n   */\n\tstatic fetchRestaurantByCuisine(cuisine, callback) {\n\t\t// Fetch all restaurants  with proper error handling\n\t\tDBHelper.fetchRestaurants((error, restaurants) => {\n\t\t\tif (error) {\n\t\t\t\tcallback(error, null);\n\t\t\t} else {\n\t\t\t\t// Filter restaurants to have only given cuisine type\n\t\t\t\tconst results = restaurants.filter(r =>\n\t\t\t\t\tr.cuisine_type == cuisine);\n\t\t\t\tcallback(null, results);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n   * Fetch restaurants by a neighborhood with proper error handling.\n   */\n\tstatic fetchRestaurantByNeighborhood(neighborhood, callback) {\n\t\t// Fetch all restaurants\n\t\tDBHelper.fetchRestaurants((error, restaurants) => {\n\t\t\tif (error) {\n\t\t\t\tcallback(error, null);\n\t\t\t} else {\n\t\t\t\t// Filter restaurants to have only given neighborhood\n\t\t\t\tconst results = restaurants.filter(r =>\n\t\t\t\t\tr.neighborhood == neighborhood);\n\t\t\t\tcallback(null, results);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n   * Fetch restaurants by a cuisine and a neighborhood with proper error handling.\n   */\n\tstatic fetchRestaurantByCuisineAndNeighborhood(\n\t\tcuisine,\n\t\tneighborhood,\n\t\tcallback) {\n\t\t// Fetch all restaurants\n\t\tDBHelper.fetchRestaurants((error, restaurants) => {\n\t\t\tif (error) {\n\t\t\t\tcallback(error, null);\n\t\t\t} else {\n\t\t\t\tlet results = restaurants;\n\t\t\t\tif (cuisine != 'all') { // filter by cuisine\n\t\t\t\t\tresults = results.filter(r => r.cuisine_type == cuisine);\n\t\t\t\t}\n\t\t\t\tif (neighborhood != 'all') { // filter by neighborhood\n\t\t\t\t\tresults = results.filter(r =>\n\t\t\t\t\t\tr.neighborhood == neighborhood);\n\t\t\t\t}\n\t\t\t\tcallback(null, results);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n   * Fetch all neighborhoods with proper error handling.\n   */\n\tstatic fetchNeighborhoods(callback) {\n\t\t// Fetch all restaurants\n\t\tDBHelper.fetchRestaurants((error, restaurants) => {\n\t\t\tif (error) {\n\t\t\t\tcallback(error, null);\n\t\t\t} else {\n\t\t\t\t// Get all neighborhoods from all restaurants\n\t\t\t\tconst neighborhoods = restaurants.map((v, i) =>\n\t\t\t\t\trestaurants[i].neighborhood);\n\t\t\t\t// Remove duplicates from neighborhoods\n\t\t\t\tconst uniqueNeighborhoods = neighborhoods.filter((v, i) =>\n\t\t\t\t\tneighborhoods.indexOf(v) == i);\n\t\t\t\tcallback(null, uniqueNeighborhoods);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n   * Fetch all cuisines with proper error handling.\n   */\n\tstatic fetchCuisines(callback) {\n\t\t// Fetch all restaurants\n\t\tDBHelper.fetchRestaurants((error, restaurants) => {\n\t\t\tif (error) {\n\t\t\t\tcallback(error, null);\n\t\t\t} else {\n\t\t\t\t// Get all cuisines from all restaurants\n\t\t\t\tconst cuisines = restaurants.map((v, i) =>\n\t\t\t\t\trestaurants[i].cuisine_type);\n\t\t\t\t// Remove duplicates from cuisines\n\t\t\t\tconst uniqueCuisines = cuisines.filter((v, i) =>\n\t\t\t\t\tcuisines.indexOf(v) == i);\n\t\t\t\tcallback(null, uniqueCuisines);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n   * Restaurant page URL.\n   */\n\tstatic urlForRestaurant(restaurant) {\n\t\treturn (`/restaurant.html?id=${restaurant.id}`);\n\t}\n\n\t/**\n   * Restaurant image URL.\n   */\n\tstatic imageUrlForRestaurant(restaurant) {\n\t\treturn (`/img/${restaurant.photograph.replace('.jpg', '')}`);\n\t}\n\n\t/* eslint-disable */\n\t/**\n   * Map marker for a restaurant.\n   */\n\tstatic mapMarkerForRestaurant(restaurant, map) {\n\t\t// https://leafletjs.com/reference-1.3.0.html#marker\n\t\tconst marker = new L.marker([\n\t\t\trestaurant.latlng.lat, restaurant.latlng.lng\n\t\t], {\n\t\t\ttitle: restaurant.name,\n\t\t\talt: restaurant.name,\n\t\t\turl: DBHelper.urlForRestaurant(restaurant)\n\t\t})\n\t\tmarker.addTo(newMap);\n\t\treturn marker;\n\t}\n\t/* static mapMarkerForRestaurant(restaurant, map) {\n    const marker = new google.maps.Marker({\n      position: restaurant.latlng,\n      title: restaurant.name,\n      url: DBHelper.urlForRestaurant(restaurant),\n      map: map,\n      animation: google.maps.Animation.DROP}\n    );\n    return marker;\n  } */\n\n}\n\nexport default DBHelper;","import DBHelper from './dbhelper';\n// let restaurant;\nlet newMap;\n\n/**\n * Initialize map as soon as the page is loaded.\n */\ndocument.addEventListener('DOMContentLoaded', () => {\n\tinitMap();\n});\n\n/**\n * Initialize leaflet map\n */\n/*eslint-disable*/\nconst initMap = () => {\n\tfetchRestaurantFromURL((error, restaurant) => {\n\t\tif (error) { // Got an error!\n\t\t\tconsole.error(error);\n\t\t} else {\n\t\t\tself.newMap = L.map('map', {\n\t\t\t\tcenter: [\n\t\t\t\t\trestaurant.latlng.lat, restaurant.latlng.lng\n\t\t\t\t],\n\t\t\t\tzoom: 16,\n\t\t\t\tscrollWheelZoom: false\n\t\t\t});\n\t\t\tL.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.jpg70?access_token={mapboxToken}', {\n\t\t\t\tmapboxToken: 'pk.eyJ1IjoiYW9zbW4iLCJhIjoiY2prOW1lYWV6MjJoNjN3cGFzZ3cybnhhbCJ9.MooMDpdnW4vnA4Aee7JnDQ',\n\t\t\t\tmaxZoom: 18,\n\t\t\t\tattribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, ' + '<a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, ' + 'Imagery Â© <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n\t\t\t\tid: 'mapbox.streets'\n\t\t\t}).addTo(self.newMap);\n\t\t\tfillBreadcrumb();\n\t\t\tDBHelper.mapMarkerForRestaurant(self.restaurant, self.newMap);\n\t\t}\n\t});\n};\n/* eslint-enable*/\n\n/* window.initMap = () => {\n  fetchRestaurantFromURL((error, restaurant) => {\n    if (error) { // Got an error!\n      console.error(error);\n    } else {\n      self.map = new google.maps.Map(document.getElementById('map'), {\n        zoom: 16,\n        center: restaurant.latlng,\n        scrollwheel: false\n      });\n      fillBreadcrumb();\n      DBHelper.mapMarkerForRestaurant(self.restaurant, self.map);\n    }\n  });\n} */\n\n/**\n * Get current restaurant from page URL.\n */\n/* eslint-disable no-console*/\nconst fetchRestaurantFromURL = (callback) => {\n\tif (self.restaurant) { // restaurant already fetched!\n\t\tcallback(null, self.restaurant);\n\t\treturn;\n\t}\n\tconst id = getParameterByName('id');\n\tif (!id) { // no id found in URL\n\t\tconst error = 'No restaurant id in URL';\n\t\tcallback(error, null);\n\t} else {\n\t\tDBHelper.fetchRestaurantById(id, (error, restaurant) => {\n\t\t\tself.restaurant = restaurant;\n\t\t\tif (!restaurant) {\n\t\t\t\tconsole.error(error);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfillRestaurantHTML();\n\t\t\tcallback(null, restaurant);\n\t\t});\n\t}\n};\n/* eslint-enable no-console*/\n\n/**\n * Create restaurant HTML and add it to the webpage\n */\nconst fillRestaurantHTML = (restaurant = self.restaurant) => {\n\tconst name = document.getElementById('restaurant-name');\n\tname.innerHTML = restaurant.name;\n\n\tconst address = document.getElementById('restaurant-address');\n\taddress.innerHTML = restaurant.address;\n\n\t//\n\t// <picture>\n\t//     <source media=\"(min-width: 800px)\" srcset=\"images/still_life-1600_large_1x.jpg 1x, images/still_life-1600_large_2x.jpg 2x\">\n\t//     <source media=\"(min-width: 500px)\" srcset=\"images/still_life-800_medium_1x.jpg 1x, images/still_life-8_medium_2x.jpg 2x\">\n\t//     <img src=\"images/still_life-600_small.jpg\" alt=\"Image of horses in hawaii\">\n\t//   </picture>\n\n\t// const picture = document.getElementById('restaurant-img');\n\tconst srcLarge = document.getElementById('src-lrg');\n\tsrcLarge.setAttribute('srcset', `${\n\t\tDBHelper.imageUrlForRestaurant(restaurant)}-1600_large_1x.jpg 1x, ${\n\t\tDBHelper.imageUrlForRestaurant(restaurant)}-1600_large_2x.jpg 2x`);\n\tconst srcMed = document.getElementById('src-med');\n\tsrcMed.setAttribute('srcset', `${\n\t\tDBHelper.imageUrlForRestaurant(restaurant)}-800_medium_1x.jpg 1x, ${\n\t\tDBHelper.imageUrlForRestaurant(restaurant)}-800_medium_2x.jpg 2x`);\n\n\tconst image = document.getElementById('restaurant-image');\n\timage.className = 'restaurant-img';\n\timage.setAttribute('alt', `restaurant ${\n\t\trestaurant.name}, ${restaurant.cuisine_type} cuisine`);\n\timage.src = `${DBHelper.imageUrlForRestaurant(restaurant)}-600_small.jpg`;\n\n\tconst cuisine = document.getElementById('restaurant-cuisine');\n\tcuisine.innerHTML = restaurant.cuisine_type;\n\n\t// fill operating hours\n\tif (restaurant.operating_hours) {\n\t\tfillRestaurantHoursHTML();\n\t}\n\t// fill reviews\n\tfillReviewsHTML();\n};\n\n/**\n * Create restaurant operating hours HTML table and add it to the webpage.\n */\nconst fillRestaurantHoursHTML =\n(operatingHours = self.restaurant.operating_hours) => {\n\tconst hours = document.getElementById('restaurant-hours');\n\tfor (const key in operatingHours) {\n\t\tconst row = document.createElement('tr');\n\n\t\tconst day = document.createElement('td');\n\t\tday.className = 'day';\n\t\tday.innerHTML = key;\n\t\trow.appendChild(day);\n\n\t\tconst time = document.createElement('td');\n\t\ttime.className = 'time';\n\n\t\tif (operatingHours[key].indexOf(',') > -1) {\n\t\t\tconst operatingHoursArr = operatingHours[key].split(',');\n\t\t\t// console.log(operatingHours[key].split(\",\"));\n\t\t\ttime.innerHTML = operatingHoursArr[0];\n\t\t\trow.appendChild(time);\n\t\t\thours.appendChild(row);\n\t\t\tfor (let i = 1; i < operatingHoursArr.length; i++) {\n\t\t\t\tconst hourRow = document.createElement('tr');\n\t\t\t\thourRow.appendChild(document.createElement('td'));\n\t\t\t\tconst hourCell = document.createElement('td');\n\t\t\t\thourCell.className = 'time';\n\t\t\t\thourCell.innerHTML = operatingHoursArr[1];\n\t\t\t\thourRow.append(hourCell);\n\t\t\t\thours.appendChild(hourRow);\n\t\t\t}\n\n\t\t} else {\n\t\t\ttime.innerHTML = operatingHours[key];\n\t\t\trow.appendChild(time);\n\t\t\thours.appendChild(row);\n\t\t}\n\n\t}\n};\n\n/**\n * Create all reviews HTML and add them to the webpage.\n */\nconst fillReviewsHTML = (reviews = self.restaurant.reviews) => {\n\tconst container = document.getElementById('reviews-container');\n\tconst title = document.createElement('h2');\n\ttitle.innerHTML = 'Reviews';\n\tcontainer.appendChild(title);\n\n\tif (!reviews) {\n\t\tconst noReviews = document.createElement('p');\n\t\tnoReviews.innerHTML = 'No reviews yet!';\n\t\tcontainer.appendChild(noReviews);\n\t\treturn;\n\t}\n\tconst ul = document.getElementById('reviews-list');\n\treviews.forEach(review => {\n\t\tul.appendChild(createReviewHTML(review));\n\t});\n\tcontainer.appendChild(ul);\n};\n\n/**\n * Create review HTML and add it to the webpage.\n */\nconst createReviewHTML = (review) => {\n\tconst li = document.createElement('li');\n\tconst name = document.createElement('p');\n\tname.innerHTML = review.name;\n\tname.className = 'user-name';\n\tli.appendChild(name);\n\n\tconst date = document.createElement('p');\n\tdate.innerHTML = review.date;\n\tdate.className = 'date';\n\tli.appendChild(date);\n\n\tconst rating = document.createElement('p');\n\trating.innerHTML = `Rating: <span class=\"rating\">${review.rating}</span>`;\n\tli.appendChild(rating);\n\n\tconst comments = document.createElement('p');\n\tcomments.innerHTML = review.comments;\n\tcomments.className = 'comment';\n\tli.appendChild(comments);\n\n\treturn li;\n};\n\n/**\n * Add restaurant name to the breadcrumb navigation menu\n */\nconst fillBreadcrumb = (restaurant = self.restaurant) => {\n\tconst breadcrumb = document.getElementById('breadcrumb');\n\tconst li = document.createElement('li');\n\tli.innerHTML = restaurant.name;\n\tbreadcrumb.appendChild(li);\n};\n\n/**\n * Get a parameter by name from page URL.\n */\n/* eslint-disable no-useless-escape*/\n\nconst getParameterByName = (name, url) => {\n\tif (!url)\n\t\turl = window.location.href;\n\tname = name.replace(/[\\[\\]]/g, '\\\\$&');\n\tconst regex = new RegExp(`[?&]${name}(=([^&#]*)|&|#|$)`),\n\t\tresults = regex.exec(url);\n\tif (!results)\n\t\treturn null;\n\tif (!results[2])\n\t\treturn '';\n\treturn decodeURIComponent(results[2].replace(/\\+/g, ' '));\n};\n/* eslint-disable no-useless-escape*/\n\n// =============================================================================\nlet serviceWorker = {};\nconst registerServiceWorker = () => {\n\tif (!navigator.serviceWorker)\n\t\treturn;\n\tnavigator.serviceWorker.register('../sw.js').then(reg => {\n\t\tif (!navigator.serviceWorker.controller) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (reg.waiting) {\n\t\t\tserviceWorker = reg.waiting;\n\t\t\tupdateReady(reg.waiting);\n\t\t\treturn;\n\t\t}\n\n\t\tif (reg.installing) {\n\t\t\tserviceWorker = reg.installing;\n\t\t\ttrackInstalling(reg.installing);\n\t\t\treturn;\n\t\t}\n\n\t\treg.addEventListener('updatefound', () => {\n\t\t\tserviceWorker = reg.installing;\n\t\t\ttrackInstalling(reg.installing);\n\t\t});\n\t});\n\n\t// Ensure refresh is only called once.\n\t// This works around a bug in \"force update on reload\".\n\tlet refreshing;\n\tnavigator.serviceWorker.addEventListener('controllerchange', () => {\n\t\tif (refreshing)\n\t\t\treturn;\n\t\twindow.location.reload();\n\t\trefreshing = true;\n\t});\n};\n\nconst trackInstalling = worker => {\n\tworker.addEventListener('statechange', () => {\n\t\tif (worker.state == 'installed') {\n\t\t\tupdateReady(worker);\n\t\t}\n\t});\n};\n\nconst updateReady = () => {\n\tconst toast = document.getElementById('simple-toast');\n\ttoast.setAttribute('class', 'visible');\n};\n\nregisterServiceWorker();\n\n// USING PURE JS To AVOID NEEDING TO CACHE JQUERY , SAVE MEMORY\ndocument.addEventListener('DOMContentLoaded', () => {\n\tconst toast = document.getElementById('simple-toast');\n\tconst refresh = document.getElementById('refresh');\n\tconst dismiss = document.getElementById('dismiss');\n\n\trefresh.onclick = () => {\n\t\t// console.log('refreshed');\n\t\tserviceWorker.postMessage({action: 'skipWaiting'});\n\t};\n\tdismiss.onclick = () => {\n\t\ttoast.setAttribute('class', '');\n\t};\n});\n"],"sourceRoot":""}